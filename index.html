<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"vsnote.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="用心记录，分享技术。">
<meta property="og:type" content="website">
<meta property="og:title" content="码农笔记">
<meta property="og:url" content="https://vsnote.me/">
<meta property="og:site_name" content="码农笔记">
<meta property="og:description" content="用心记录，分享技术。">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="votan">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://vsnote.me/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>码农笔记</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">码农笔记</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">热爱，分享。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">votan</p>
  <div class="site-description" itemprop="description">用心记录，分享技术。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">122</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">164</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/windows-11-install-windows-xp-via-docker.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/windows-11-install-windows-xp-via-docker" class="post-title-link post-title-link-external" itemprop="url">Windows 11 通过 Docker 安装 Windows XP<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-04-29 17:09:39" itemprop="dateCreated datePublished" datetime="2024-04-29T17:09:39+08:00">2024-04-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 17:35:21" itemprop="dateModified" datetime="2024-05-09T17:35:21+08:00">2024-05-09</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近在网上看到一个 Git 项目 <a target="_blank" rel="noopener" href="https://github.com/dockur/windows">dockur&#x2F;windows</a>，可以用 Docker 安装 原版的 Windows 系统，很久没折腾过系统了，想尝试一下。以下是整个安装的过程。</p>
<h2 id="直接运行"><a href="#直接运行" class="headerlink" title="直接运行"></a>直接运行</h2><p>文档里面有直接运行的脚本，但是安装有系统是固定的链接下载的，都是英文版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --<span class="built_in">rm</span> --name windows -p 8006:8006 --device=/dev/kvm --cap-add NET_ADMIN --stop-timeout 120 dockurr/windows</span><br></pre></td></tr></table></figure>

<h2 id="自定义运行"><a href="#自定义运行" class="headerlink" title="自定义运行"></a>自定义运行</h2><p>首先把需要安装的系统镜像下载下来，这里推荐 <a target="_blank" rel="noopener" href="https://next.itellyou.cn/">Itellyou</a>，这里面基本上都是原版系统，不过需要安装迅雷才能下载。</p>
<p>然后把项目 clone 下来：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/dockur/windows.git</span><br></pre></td></tr></table></figure>

<p>修改 compose.yml</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">windows:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">dockurr/windows</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">windows</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">VERSION:</span> <span class="string">&quot;winxp&quot;</span></span><br><span class="line">    <span class="attr">devices:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/dev/kvm</span></span><br><span class="line">    <span class="attr">cap_add:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">NET_ADMIN</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8006</span><span class="string">:8006</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3389</span><span class="string">:3389/tcp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3389</span><span class="string">:3389/udp</span></span><br><span class="line">    <span class="attr">stop_grace_period:</span> <span class="string">2m</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">on-failure</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/e/sys-image/winxp3.iso:/storage/custom.iso</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/storage</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure>

<p>正常的话就可以通过 <code>http://localhost:8006</code> 来访问虚拟机了，不过浏览器对硬件的支持不是很好，作者建议通过 rdp 来访问。<br>需要注意的是，如果用 rdp 连接不到 docker 里面的系统，需要先把 docker 系统里面的防火墙关闭。</p>
<p><img src="/images/winxp.png" alt="winxp"></p>
<p><img src="/images/win7.png" alt="win7"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/linux-nc.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/linux-nc" class="post-title-link post-title-link-external" itemprop="url">局域网利用 nc 传输文件<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-01-24 18:00:40" itemprop="dateCreated datePublished" datetime="2018-01-24T18:00:40+08:00">2018-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>操作系统：ubuntu<br>操作方式：命令行<br>接收端：<code>nc -l -p port &gt; filename</code><br>发送端：<code>nc destination_ip destination_port &lt; filename</code></p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>接收端：<code>nc -l -p 10000 &gt; test.txt</code><br>发送端：<code>nc 192.168.0.105 10000 &lt; test.txt</code><br>注意事项：先接收端操作，接收端监听后，发送端再发送文件。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/hello-world.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/hello-world" class="post-title-link post-title-link-external" itemprop="url">Hello World<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-05-23 10:26:09" itemprop="dateCreated datePublished" datetime="2017-05-23T10:26:09+08:00">2017-05-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-04-30 10:27:27" itemprop="dateModified" datetime="2024-04-30T10:27:27+08:00">2024-04-30</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/resignation-email.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/resignation-email" class="post-title-link post-title-link-external" itemprop="url">离职邮件<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-04-05 17:44:40" itemprop="dateCreated datePublished" datetime="2017-04-05T17:44:40+08:00">2017-04-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/" itemprop="url" rel="index"><span itemprop="name">未分类</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>尊敬的各位领导：</p>
<p>你们好!首先非常感谢公司给予我近两年的工作机会。</p>
<p>由于个人职业规划和一些现实因素，经过慎重考虑之后，特此提出离职申请，敬请批准。</p>
<p>来到本公司也快两年了，我有幸得到了各位领导及同事们的倾心指导及热情帮助，在本职工作和专业技能上，我得到了很大程度的提高，在此感谢公司提供给我这个良好的平台，这些工作经验将是我今后职业生涯中的一笔宝贵财富。尤其感谢 xx 以及 xxx 对我工作的沟通和帮助。</p>
<p>感谢所有给予帮助过我的同事们，忠心的祝愿公司蒸蒸日上，各位同事工作愉快，身体健康。</p>
<p>此致</p>
<p>敬礼!</p>
<p>申请人：xxx 申请时间：2017年4月5日</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/undefined.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/undefined.html" class="post-title-link" itemprop="url">10个国外的HTML5响应式框架</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-04-20 17:41:40" itemprop="dateCreated datePublished" datetime="2016-04-20T17:41:40+08:00">2016-04-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>如今，HTML5 已经被全世界的网站设计师和开发者所接受。HTML5 被称为是web开发的未来可不是空穴来风。HTML5 将语义化编程推到了新的高度。通过HTML5，开发者可以用更加简单易懂的单词来编写他们的网页应用。比如，HTML5 推荐使用 <strong> 标签而不是 <b> 标签来加粗文本。不仅如此，HTML5 还提供了对媒体(media)的强大的支持，简化了媒体密集型web应用的创建过程。最重要的一点便是 HTML5 比它的前辈们更好地支持响应式网站设计。如今已经是响应式网站设计的时代，用户不再仅通过宽大的电脑屏幕来访问网站了。 框架能够大幅简化设计者和开发者的工作。笔者搜集了 10 个广受好评的 HTML5 响应式web开发框架推荐给大家，希望可以帮助大家构建更多响应式网站。</p>
<h2 id="GroundworkCSS2"><a href="#GroundworkCSS2" class="headerlink" title="GroundworkCSS2"></a>GroundworkCSS2</h2><p><a target="_blank" rel="noopener" href="http://groundworkcss.github.com/">GroundworkCSS2</a> 是一个结合了 HTML5、CSS 和 JavaScript 的响应式框架，它针对不同的台式机、智能手机和平板设计了一个响应式的栅格系统。它的官方网站提供了大量的应用实例和文档来帮助开发者了解该框架。同时，官网还提供了多种模板，包括标准网站、电子商务网站和图片展示型网站等等。另外，它还具有诸如支持响应式文本和轻松定制化等特征。 <a target="_blank" rel="noopener" href="http://groundworkcss.github.com/"><img src="/../images/uploads/2016/04/2.png" alt="2"></a> 官方网站：<a target="_blank" rel="noopener" href="http://groundworkcss.github.com/">http://groundworkcss.github.com/</a></p>
<h2 id="MontageJS"><a href="#MontageJS" class="headerlink" title="MontageJS"></a>MontageJS</h2><p><a target="_blank" rel="noopener" href="http://www.montagejs.org/">MontageJS</a> 是一个注重促进开发高性能高拓展性 web 应用的 HTML5 框架。该框架提供了面向组件的 HTML 模板，将组件从 JavaScript 和 CSS 中独立出来。另外，它还提供一种模块化的方式来重用组件和组织代码。   <a target="_blank" rel="noopener" href="http://www.montagejs.org/"><img src="/../images/uploads/2016/04/3.png" alt="3"></a> 官方网站：<a target="_blank" rel="noopener" href="http://www.montagejs.org/">http://www.montagejs.org/</a></p>
<h2 id="52Framework"><a href="#52Framework" class="headerlink" title="52Framework"></a>52Framework</h2><p><a target="_blank" rel="noopener" href="http://www.52framework.com/">52Framework</a> 是一个结合了 HTML5、CSS3 和 JavaScript 的强大的前端框架。该框架提供了一些封装好的内置工具，包括 HTML5 视频播放器、HTML5 表单验证器，CSS3 属性工具、栅格系统和 HTML5 画布示例等。 <a target="_blank" rel="noopener" href="http://www.52framework.com/"><img src="/../images/uploads/2016/04/4.png" alt="4"></a> 官方网站：<a target="_blank" rel="noopener" href="http://www.52framework.com/">http://www.52framework.com/</a></p>
<h2 id="Twitter-Bootstrap"><a href="#Twitter-Bootstrap" class="headerlink" title="Twitter Bootstrap"></a>Twitter Bootstrap</h2><p><a target="_blank" rel="noopener" href="https://github.com/twbs/bootstrap">Twitter Bootstrap</a> 是一个结合了 HTML、CSS 和 JavaScript 的强大的前端框架，用于加速并简化web应用开发。该框架提供给开发者一些实用的功能，包括12列的响应式栅格系统、JavaScript 插件和多种控件等等。同时，它还为导航栏、下拉菜单、面包屑导航栏、排版、警告和进度条等功能提供了一些可重用的组件， 非常的实用。 <a target="_blank" rel="noopener" href="https://github.com/twbs/bootstrap"><img src="/../images/uploads/2016/04/5.png" alt="5"></a> 官方网站：<a target="_blank" rel="noopener" href="http://twitter.github.io/bootstrap/">http://twitter.github.io/bootstrap/</a></p>
<h2 id="SproutCore"><a href="#SproutCore" class="headerlink" title="SproutCore"></a>SproutCore</h2><p><a target="_blank" rel="noopener" href="http://sproutcore.com/">SproutCore</a> 是一个基于 MVC 架构的前端框架。它结合了 HTML5，允许开发者通过客户端逻辑和高质量的主题来构建快速、可拓展的 web 应用。 <a target="_blank" rel="noopener" href="http://sproutcore.com/"><img src="/../images/uploads/2016/04/6.png" alt="6"></a> 官方网站：<a target="_blank" rel="noopener" href="http://sproutcore.com/">http://sproutcore.com/</a></p>
<h2 id="Foundation"><a href="#Foundation" class="headerlink" title="Foundation"></a>Foundation</h2><p><a target="_blank" rel="noopener" href="http://foundation.zurb.com/">Foundation</a> 是一个有着在线社区支持的前端开发框架，通过栅格系统和其他一些特性提供了一系列布局功能、包括复杂的布局、动画特效、快速原型化等等。 另外，它还提供了一些内置的 HTML 模板用于开发不同的页面，包括电子商务主页模板、旅行网站模板、在线杂志模板、博库网站模板和产品介绍页面模板等等。 <a target="_blank" rel="noopener" href="http://foundation.zurb.com/"><img src="/../images/uploads/2016/04/7.png" alt="7"></a> 官方网站：<a target="_blank" rel="noopener" href="http://foundation.zurb.com/">http://foundation.zurb.com/</a></p>
<h2 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h2><p><a target="_blank" rel="noopener" href="http://base.gs/">Base</a> 是一个轻量级的模块化的 HTML&#x2F;CSS 前端框架，用于开发支持新旧浏览器和移动设备等多平台的跨平台响应式的 web 应用。 <a target="_blank" rel="noopener" href="http://base.gs/"><img src="/../images/uploads/2016/04/8.png" alt="8"></a> 官方网站：<a target="_blank" rel="noopener" href="http://base.gs/">http://base.gs/</a></p>
<h2 id="Onsen-UI"><a href="#Onsen-UI" class="headerlink" title="Onsen UI"></a>Onsen UI</h2><p><a target="_blank" rel="noopener" href="https://onsen.io/">Onsen UI</a> 是一个支持响应式布局的基于 HTML5 元素定制的 UI 框架，提供多种基于 web 的 UI 组件，并支持 PhoneGap 和 Cordova 的混合 APP 开发。它的高效得益于它结合了 jQuery 库和 Angular.js 框架。 <a target="_blank" rel="noopener" href="https://onsen.io/"><img src="/../images/uploads/2016/04/9.png" alt="9"></a> 官方网站：<a target="_blank" rel="noopener" href="https://onsen.io/">https://onsen.io/</a></p>
<h2 id="Enyo"><a href="#Enyo" class="headerlink" title="Enyo"></a>Enyo</h2><p><a target="_blank" rel="noopener" href="http://enyojs.com/">Enyo</a> 是一个用于开发原生 HTML5 应用的前端框架。很多响应式的 web 应用都是利用 Enyo 开发的，包括 blogWalker, E Notes, Groupon Mobile app和Confero。Enyo 提供一系列特性，包括 UI 组件、实用工具、事件处理和调试等。 <a target="_blank" rel="noopener" href="http://enyojs.com/"><img src="/../images/uploads/2016/04/10.png" alt="10"></a> 官方网站：<a target="_blank" rel="noopener" href="http://enyojs.com/">http://enyojs.com/</a></p>
<h2 id="Ionic"><a href="#Ionic" class="headerlink" title="Ionic"></a>Ionic</h2><p><a target="_blank" rel="noopener" href="http://ionicframework.com/">Ionic</a> 是一个用于构建混合移动应用的先进的 HTML5 框架。该框架最适合用于基于 AngularJS 的应用开发，并提供一系列 HTML,CSS 和 JavaScript 组件。它提供了一个强大的命令行工具，包含实时更新和内建日志等功能，便于在不同的平台开发、测试和部署 Ionic 应用。 <a target="_blank" rel="noopener" href="http://ionicframework.com/"><img src="/../images/uploads/2016/04/1.png" alt="1"></a> 官方网站：<a target="_blank" rel="noopener" href="http://ionicframework.com/">http://ionicframework.com/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/nginx-tomcat.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nginx-tomcat" class="post-title-link post-title-link-external" itemprop="url">nginx+tomcat 实现动静分离和负载均衡<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-04-02 11:33:05" itemprop="dateCreated datePublished" datetime="2016-04-02T11:33:05+08:00">2016-04-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>动静分离总的来说就是把请求到服务端的动态请求和静态资源的请求分离开，这样在请求量很大的时候能够缓解服务端的压力。之前项目需要用到 nginx 和 tomcat 结合来实现动静分离和负载均衡，在这里整理一下做为总结。</p>
</blockquote>
<h2 id="动静分离原理"><a href="#动静分离原理" class="headerlink" title="动静分离原理"></a>动静分离原理</h2><p>服务端接收来自客户端的请求中，有一部分是静态资源的请求，例如 html,css,js 和图片资源等等，有一部分是动态数据的请求。<br>因为 tomcat 处理静态资源的速度比较慢，所以我们可以考虑把所有静态资源独立开来，交给处理静态资源更快的服务器例如 nginx 处理，而把动态请求交给 tomcat 处理。<br>如下图所示(图画的有点丑，将就着看看)，我们在机器上同时安装了 nginx 和 tomcat,把所有的静态资源都放置在 nginx 的 webroot 目录下面，把动态请求的程序都放在 tomcat 的 webroot 目录下面，当客户端访问服务端的时候，如果是静态资源的请求，就直接到 nginx 的 webroot 目录下面获取资源，如果是动态资源的请求，nginx 利用反向代理的原理，把请求转发给 tomcat 进行处理，这样就实现了动静分离，提高了服务器处理请求的性能。 <a href="../images/uploads/2016/04/b0d887aacf05b3b5ea74018b66a6039c989668c3.png"><img src="/../images/uploads/2016/04/b0d887aacf05b3b5ea74018b66a6039c989668c3.png" alt="b0d887aacf05b3b5ea74018b66a6039c989668c3"></a></p>
<h2 id="动静分离的实现"><a href="#动静分离的实现" class="headerlink" title="动静分离的实现"></a>动静分离的实现</h2><p><em>注：本文是在 centos-6.5 64 位操作系统搭建的</em></p>
<h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><p>首先下载 jdk、tomcat 和 nginx 的安装包，可到各大官网下载，这里我的jdk用的是1.7版本，tomcat 用的是8.0版本，nginx 用的是1.7.7版本。</p>
<h2 id="jdk-安装"><a href="#jdk-安装" class="headerlink" title="jdk 安装"></a>jdk 安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//解压到 /usr/local/java/目录</span><br><span class="line"># tar -zxvf jdk-7u67-linux-x64.tar.gz －C /usr/local/java/</span><br><span class="line">//配置环境变量</span><br><span class="line"># vi /etc/profile</span><br></pre></td></tr></table></figure>

<p>在最后加入以下几行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/usr/java/jdk1.7.0_71</span><br><span class="line">CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar    </span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH                                      </span><br><span class="line">export JAVA_HOME CLASS_PATH PATH</span><br></pre></td></tr></table></figure>

<p>执行下面命令立即生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source /etc/profile</span><br></pre></td></tr></table></figure>

<p>tomcat 安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\# tar zxvf apache-tomcat-7.0.29.tar.gz  -C /usr/local/tomcat/</span><br></pre></td></tr></table></figure>

<p>tomcat 安装后不用做配置，但是要测试是否能跑起来，这里不做过多的描述 nginx 安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//在nginx包的目录解压nginx,可解压缩到任意目录，这里解压缩到当前目录</span><br><span class="line"># tar zxvf nginx-1.7.7.tar.gz                    </span><br><span class="line">//进入nginx-1.7.7目录，进行编译                    </span><br><span class="line"># cd nginx-1.7.7                                  </span><br><span class="line"># ./configure --prefix=/usr/loacl/nginx/          </span><br><span class="line"># make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<p>nginx需要编译，所以发现无法编译，那么可能是机器没有安装编译环境，需要安装编译环境，执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc gcc-c++ autoconf automake</span><br><span class="line">yum -y install zlib zlib-devel openssl openssl-devel pcre-devel</span><br></pre></td></tr></table></figure>

<h2 id="配置动静分离"><a href="#配置动静分离" class="headerlink" title="配置动静分离"></a>配置动静分离</h2><p>这里主要是配置 nginx 的nginx.conf 文件,nginx 的配置可以参考网上其他资料，这里不做详细描述。 进入 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F; 目录，编辑 nginx.conf 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/nginx/conf/                   </span><br><span class="line"># vi nginx.conf</span><br></pre></td></tr></table></figure>

<p>这里我们主要修改的是http模块里面的server节点，其他配置不用改，配置如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       80;                       </span><br><span class="line">        server_name  127.0.0.1;               </span><br><span class="line">        root  /usr/local/html/;</span><br><span class="line">        index  index.html index.htm index.jsp;</span><br><span class="line"></span><br><span class="line">        charset koi8-r;</span><br><span class="line"></span><br><span class="line">        access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location ~ \.(jsp)$ &#123;</span><br><span class="line">           proxy_pass http://www.tomcat.com:8080;</span><br><span class="line">           proxy_redirect off;</span><br><span class="line">           proxy_set_header HOST $host;</span><br><span class="line">           proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">           client_max_body_size 10m;</span><br><span class="line">           client_body_buffer_size 128k;</span><br><span class="line">           proxy_connect_timeout 90;</span><br><span class="line">           proxy_send_timeout 90;</span><br><span class="line">           proxy_read_timeout 90;</span><br><span class="line">           proxy_buffer_size 4k;</span><br><span class="line">           proxy_buffers 4 32k;</span><br><span class="line">           proxy_busy_buffers_size 64k;</span><br><span class="line">           proxy_temp_file_write_size 64k;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location ~ \.(gifjpgpngbmpswfhtmljscsshtm)$</span><br><span class="line">        &#123;</span><br><span class="line">         expires 10d;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>其中 listen 表示nginx监听的端口，server_name是nginx对外提供访问的ip或者域名，root是nginx存放资源的路径。 下面的两个 location 节点就是动静分离的配置了，location有下面6种匹配方式：</p>
<ul>
<li>&#x3D;：精确匹配</li>
<li>空修饰符且精确匹配</li>
<li>^~：匹配前面</li>
<li>~：使用正则表达式匹配，大小写敏感</li>
<li>~*：使用正则表达式匹配，大小写不敏感，和4没有高低之分</li>
<li>空修饰符且前面匹配</li>
</ul>
<p>这里我们用第4种 ～ ，使用正则表达式，并且大小写敏感，第一个 location 表示以 .jsp 结尾的请求，我们利用反向代理的方式，把请求转发给tomcat进行处理，其中 proxy_pass 需要配置tomcat的ip。我们也可以配置restful api形式的请求，例如我们想把请求接口的 url 里面带有字母 a 的请求转发给 tomcat 进行处理，我们可以配置 location ~ a 即可。 第二个location表示以 .gif .jpg .js 等结尾的请求，我们直接到nginx的root目录里面获取资源，这定义用户浏览器缓存的时间为10天，如果静态页面不常更新，可以设置更长，这样可以节省带宽和缓解服务器的压力。 至此，我们已经配置好动静分离了，启动nginx和tomcat就可以了。</p>
<h2 id="负载均衡的实现"><a href="#负载均衡的实现" class="headerlink" title="负载均衡的实现"></a>负载均衡的实现</h2><p>配置好动静分离，那么负责负载也就很简单了。负载均衡就是将 tomcat 的动态请求分摊到多个 tomcat 执行，这个在请求量很大的时候能缓解服务端的压力，主要的配置是在 nginx.conf 的配置文件的http节点里面添加 upstream 节点，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">upstream tomcats&#123;                               </span><br><span class="line">    server 10.11.68.56:8080 weight=1;     </span><br><span class="line">    server 10.11.68.57:8080 weight=1;       </span><br><span class="line">    server 10.11.68.58:8080 weight=1;     </span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen       80;                       </span><br><span class="line">    server\_name  172.24.69.127;                </span><br><span class="line">    root  /usr/local/html/;  </span><br><span class="line">    index  index.html index.htm index.jsp;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">       proxy\_pass http://tomcats;</span><br><span class="line">       proxy\_redirect off;</span><br><span class="line">       proxy\_set\_header HOST $host;</span><br><span class="line">       proxy\_set\_header X-Real-IP $remote\_addr;</span><br><span class="line">       proxy\_set\_header X-Forwarded-For $proxy\_add\_x\_forwarded\_for;</span><br><span class="line">       client\_max\_body\_size 10m;</span><br><span class="line">       client\_body\_buffer\_size 128k;</span><br><span class="line">       proxy\_connect\_timeout 90;</span><br><span class="line">       proxy\_send\_timeout 90;</span><br><span class="line">       proxy\_read\_timeout 90;</span><br><span class="line">       proxy\_buffer\_size 4k;</span><br><span class="line">       proxy\_buffers 4 32k;</span><br><span class="line">       proxy\_busy\_buffers\_size 64k;</span><br><span class="line">       proxy\_temp\_file\_write\_size 64k;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中，upstream 节点里面配置的是每个参与负载均衡的tomcat的ip, weigth 参数表示权值，权值越高被分配到的几率越大,如果每台机器的 weight&#x3D;1,表示每台机器被分配到的概率是一样的。<br>tomcats 是 upstream 配置项的名称，可以自定义，但是一定要和 locatin 节点里面的 proxy_pass 配置一样 至此，我们已经把动静分离和负载均衡配置好了。</p>
<p>文章来源：<a target="_blank" rel="noopener" href="http://139.196.14.76/t/nginx-tomcat/260">Nginx+tomcat实现动静分离和负载均衡</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/php-screen.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/php-screen" class="post-title-link post-title-link-external" itemprop="url">PHP 实现即时网站截图<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-03-31 09:51:22" itemprop="dateCreated datePublished" datetime="2016-03-31T09:51:22+08:00">2016-03-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转一个通过PHP实现即时网站截图功能 通过一个表单来提交请求</p>
<pre><code>网站地址 (不带 http://):
大小: px px
图片格式: PNG JPEG 
</code></pre>
<p>处理页面</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;» **点击图片下载截图！**  </span></span><br><span class="line"><span class="string">[![](&#x27;</span> . <span class="variable">$iurl</span> . <span class="string">&#x27;)](&#x27;</span> . <span class="variable">$iurl</span> . <span class="string">&#x27;)  </span></span><br><span class="line"><span class="string">&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&quot;Content-type: <span class="subst">&#123;$imt&#125;</span>&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&quot;Content-Disposition: attachment; filename= <span class="subst">&#123;$ifn&#125;</span>&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">readfile</span>(<span class="variable">$surl</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/php-live.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/php-live" class="post-title-link post-title-link-external" itemprop="url">PHP程序员的技术成长规划<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-10-15 14:14:25" itemprop="dateCreated datePublished" datetime="2014-10-15T14:14:25+08:00">2014-10-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-04-30 10:27:27" itemprop="dateModified" datetime="2024-04-30T10:27:27+08:00">2024-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>按照了解的很多PHP&#x2F;LNMP程序员的发展轨迹，结合个人经验体会，抽象出很多程序员对未来的迷漫，特别对技术学习的盲目和慌乱，简单梳理了这个每个阶段PHP程序员的技术要求，来帮助很多PHP程序做对照设定学习成长目标。 本文按照目前主流技术做了一个基本的梳理，整个是假设PHP程序员不是基础非常扎实的情况进行的设定，并且所有设定都非常具体明确清晰，可能会让人觉得不适，请理解仅代表一家之言。（未来技术变化不在讨论范围）</p>
<h2 id="第一阶段：基础阶段（基础PHP程序员）"><a href="#第一阶段：基础阶段（基础PHP程序员）" class="headerlink" title="第一阶段：基础阶段（基础PHP程序员）"></a><strong>第一阶段：基础阶段（基础PHP程序员）</strong></h2><blockquote>
<p><strong>重点：</strong>把LNMP搞熟练（核心是安装配置基本操作） <strong>目标：</strong>能够完成基本的LNMP系统安装，简单配置维护；能够做基本的简单系统的PHP开发；能够在PHP中型系统中支持某个PHP功能模块的开发。 <strong>时间：</strong>完成本阶段的时间因人而异，有的成长快半年一年就过了，成长慢的两三年也有。</p>
</blockquote>
<ol>
<li>Linux： 基本命令、操作、启动、基本服务配置（包括rpm安装文件，各种服务配置等）；会写简单的shell脚本和awk&#x2F;sed 脚本命令等。</li>
<li>Nginx： 做到能够安装配置nginx+php，知道基本的nginx核心配置选项，知道 server&#x2F;fastcgi_pass&#x2F;access_log 等基础配置，目标是能够让nginx+php_fpm顺利工作。</li>
<li>MySQL： 会自己搭建mysql，知道基本的mysql配置选项；知道innodb和myisam的区别，知道针对InnoDB和MyISAM两个引擎的不同配置选项；知道基本的两个引擎的差异和选择上面的区别；能够纯手工编译搭建一个MySQL数据库并且配置好编码等正常稳定运行；核心主旨是能够搭建一个可运行的MySQL数据库。</li>
<li>PHP： 基本语法数组、字符串、数据库、XML、Socket、GD&#x2F;ImageMgk图片处理等等；熟悉各种跟MySQL操作链接的api（mysql&#x2F;mysqli&#x2F;PDO)，知道各种编码问题的解决；知道常规熟练使用的PHP框架（ThinkPHP、Zendframework、Yii、Yaf等）；了解基本MVC的运行机制和为什么这么做，稍微知道不同的PHP框架之间的区别；能够快速学习一个MVC框架。能够知道开发工程中的文件目录组织，有基本的良好的代码结构和风格，能够完成小系统的开发和中型系统中某个模块的开发工作。</li>
<li>前端： 如果条件时间允许，可以适当学习下 HTML&#x2F;CSS&#x2F;JS 等相关知识，知道什么web标准，div+css的web&#x2F;wap页面模式，知道HTML5和HTML4的区别；了解一些基本的前端只是和JS框架（jQuery之类的）；了解一些基本的JavaScript编程知识；（本项不是必须项，如果有时间，稍微了解一下是可以的，不过不建议作为重点，除非个人有强烈兴趣）</li>
<li>系统设计： 能够完成小型系统的基本设计，包括简单的数据库设计，能够完成基本的：浏览器 -&gt; Nginx+PHP -&gt; 数据库 架构的设计开发工作；能够支撑每天几十万到数百万流量网站的开发维护工作；</li>
</ol>
<h2 id="第二阶段：提高阶段-（中级PHP程序员）"><a href="#第二阶段：提高阶段-（中级PHP程序员）" class="headerlink" title="第二阶段：提高阶段 （中级PHP程序员）"></a><strong>第二阶段：提高阶段 （中级PHP程序员）</strong></h2><blockquote>
<p><strong>重点：</strong>提高针对LNMP的技能，能够更全面的对LNMP有熟练的应用。 <strong>目标：</strong>能够随时随地搭建好LNMP环境，快速完成常规配置；能够追查解决大部分遇到的开发和线上环境的问题；能够独立承担中型系统的构架和开发工作；能够在大型系统中承担某个中型模块的开发工作；</p>
</blockquote>
<ol>
<li>Linux: 在第一阶段的基础上面，能够流畅的使用Shell脚本来完成很多自动化的工作；awk&#x2F;sed&#x2F;perl 也操作的不错，能够完成很多文本处理和数据统计等工作；基本能够安装大部分非特殊的Linux程序（包括各种库、包、第三方依赖等等，比如MongoDB&#x2F;Redis&#x2F;Sphinx&#x2F;Luncene&#x2F;SVN之类的）；了解基本的Linux服务，知道如何查看Linux的性能指标数据，知道基本的Linux下面的问题跟踪等。</li>
<li>Nginx: 在第一阶段的基础上面，了解复杂一些的Nginx配置；包括 多核配置、events、proxy_pass，sendfile&#x2F;tcp_*配置，知道超时等相关配置和性能影响；知道nginx除了web server，还能够承担代理服务器、反向静态服务器等配置；知道基本的nginx配置调优；知道如何配置权限、编译一个nginx扩展到nginx；知道基本的nginx运行原理（master&#x2F;worker机制，epoll），知道为什么nginx性能比apache性能好等知识；</li>
<li>MySQL&#x2F;MongoDB： 在第一阶段的基础上面，在MySQL开发方面，掌握很多小技巧，包括常规SQL优化（group by&#x2F;order by&#x2F;rand优化等）；除了能够搭建MySQL，还能够冷热备份MySQL数据，还知道影响innodb&#x2F;myisam性能的配置选项（比如key_buffer&#x2F;query_cache&#x2F;sort_buffer&#x2F;innodb_buffer_pool_size&#x2F;innodb_flush_log_at_trx_commit等），也知道这些选项配置成为多少值合适；另外也了解一些特殊的配置选项，比如 知道如何搭建mysql主从同步的环境，知道各个binlog_format的区别；知道MySQL的性能追查，包括slow_log&#x2F;explain等，还能够知道基本的索引建立处理等知识；原理方面了解基本的MySQL的架构（Server+存储引擎），知道基本的InnoDB&#x2F;MyISAM索引存储结构和不同（聚簇索引，B树）；知道基本的InnoDB事务处理机制；了解大部分MySQL异常情况的处理方案（或者知道哪儿找到处理方案）。条件允许的情况，建议了解一下NoSQL的代表MongoDB数据库，顺便对比跟MySQL的差别，同事能够在合适的应用场景安全谨慎的使用MongoDB，知道基本的PHP与MongoDB的结合开发。</li>
<li>Redis&#x2F;Memcached： 在大部分中型系统里面一定会涉及到缓存处理，所以一定要了解基本的缓存；知道Memcached和Redis的异同和应用场景，能够独立安装 Redis&#x2F;Memcached，了解Memcahed的一些基本特性和限制，比如最大的value值，知道PHP跟他们的使用结合；Redis了解基本工作原理和使用，了解常规的数据类型，知道什么场景应用什么类型，了解Redis的事务等等。原理部分，能够大概了解Memcached的内存结构（slab机制），redis就了解常用数据类型底层实现存储结构（SDS&#x2F;链表&#x2F;SkipList&#x2F;HashTable）等等，顺便了解一下Redis的事务、RDB、AOF等机制更好</li>
<li>PHP： 除了第一阶段的能力，安装配置方面能够随意安装PHP和各种第三方扩展的编译安装配置；了解php-fpm的大部分配置选项和含义（如max_requests&#x2F;max_children&#x2F;request_terminate_timeout之类的影响性能的配置），知道mod_php&#x2F;fastcgi的区别；在PHP方面已经能够熟练各种基础技术，还包括各种深入些的PHP，包括对PHP面向对象的深入理解&#x2F;SPL&#x2F;语法层面的特殊特性比如反射之类的；在框架方面已经阅读过最少一个以上常规PHP MVC框架的代码了，知道基本PHP框架内部实现机制和设计思想；在PHP开发中已经能够熟练使用常规的设计模式来应用开发（抽象工厂&#x2F;单例&#x2F;观察者&#x2F;命令链&#x2F;策略&#x2F;适配器 等模式）；建议开发自己的PHP MVC框架来充分让开发自由化，让自己深入理解MVC模式，也让自己能够在业务项目开发里快速升级；熟悉PHP的各种代码优化方法，熟悉大部分PHP安全方面问题的解决处理；熟悉基本的PHP执行的机制原理（Zend引擎&#x2F;扩展基本工作机制）；</li>
<li>C&#x2F;C++： 开始涉猎一定的C&#x2F;C++语言，能够写基本的C&#x2F;C++代码，对基本的C&#x2F;C++语法熟悉（指针、数组操作、字符串、常规标准API）和数据结构（链表、树、哈希、队列）有一定的熟悉下；对Linux下面的C语言开发有基本的了解概念，会简单的makefile文件编写，能够使用简单的GCC&#x2F;GDB的程序编译简单调试工作；对基本的网络编程有大概了解。（本项是为了向更高层次打下基础）</li>
<li>前端： 在第一阶段的基础上面，熟悉基本的HTTP协议（协议代码200&#x2F;300&#x2F;400&#x2F;500，基本的HTTP交互头）；条件允许，可以在深入写出稍微优雅的HTML+CSS+JavaScript，或者能够大致简单使用某些前端框架（jQuery&#x2F;YUI&#x2F;ExtJS&#x2F;RequireJS&#x2F;BootStrap之类）；如果条件允许，可以深入学习JavaScript编程，比如闭包机制、DOM处理；再深入些可以读读jQuery源码做深入学习。（本项不做重点学习，除非对前端有兴趣）</li>
<li>系统设计： 能够设计大部分中型系统的网站架构、数据库、基本PHP框架选型；性能测试排查处理等；能够完成类似：浏览器 -&gt; CDN(Squid) -&gt; Nginx+PHP -&gt; 缓存 -&gt; 数据库 结构网站的基本设计开发维护；能够支撑每天数百万到千万流量基本网站的开发维护工作；</li>
</ol>
<h2 id="第三阶段：高级阶段-（高级PHP程序员）"><a href="#第三阶段：高级阶段-（高级PHP程序员）" class="headerlink" title="第三阶段：高级阶段 （高级PHP程序员）"></a><strong>第三阶段：高级阶段 （高级PHP程序员）</strong></h2><blockquote>
<p><strong>重点：</strong>除了基本的LNMP程序，还能够在某个方向或领域有深入学习。（纵深维度发展） <strong>目标：</strong>除了能够完成基本的PHP业务开发，还能够解决大部分深入复杂的技术问题，并且可以独立设计完成中大型的系统设计和开发工作；自己能够独立hold深入某个技术方向，在这块比较专业。（比如在MySQL、Nginx、PHP、Redis等等任一方向深入研究）</p>
</blockquote>
<ol>
<li>Linux： 除了第二阶段的能力，在Linux下面除了常规的操作和性能监控跟踪，还能够使用很多高级复杂的命令完成工作（watch&#x2F;tcpdump&#x2F;starce&#x2F;ldd&#x2F;ar等)；在shell脚本方面，已经能够编写比较复杂的shell脚本（超过500行）来协助完成很多包括备份、自动化处理、监控等工作的shell；对awk&#x2F;sed&#x2F;perl 等应用已经如火纯青，能够随意操作控制处理文本统计分析各种复杂格式的数据；对Linux内部机制有一些了解，对内核模块加载，启动错误处理等等有个基本的处理；同时对一些其他相关的东西也了解，比如NFS、磁盘管理等等；</li>
<li>Nginx: 在第二阶段的基础上面，已经能够把Nginx操作的很熟练，能够对Nginx进行更深入的运维工作，比如监控、性能优化，复杂问题处理等等；看个人兴趣，更多方面可以考虑侧重在关于Nginx工作原理部分的深入学习，主要表现在阅读源码开始，比如具体的master&#x2F;worker工作机制，Nginx内部的事件处理，内存管理等等；同时可以学习Nginx扩展的开发，可以定制一些自己私有的扩展；同时可以对Nginx+Lua有一定程度的了解，看看是否可以结合应用出更好模式；这个阶段的要求是对Nginx原理的深入理解，可以考虑成为Nginx方向的深入专业者。</li>
<li>MySQL&#x2F;MongoDB： 在第二阶段的基础上面，在MySQL应用方面，除了之前的基本SQL优化，还能够在完成一些复杂操作，比如大批量数据的导入导出，线上大批量数据的更改表结构或者增删索引字段等等高危操作；除了安装配置，已经能够处理更多复杂的MySQL的问题，比如各种问题的追查，主从同步延迟问题的解决、跨机房同步数据方案、MySQL高可用架构等都有涉及了解；对MySQL应用层面，对MySQL的核心关键技术比较熟悉，比如事务机制（隔离级别、锁等）、对触发器、分区等技术有一定了解和应用；对MySQL性能方面，有包括磁盘优化（SAS迁移到SSD）、服务器优化（内存、服务器本身配置）、除了二阶段的其他核心性能优化选项（innodb_log_buffer_size&#x2F;back_log&#x2F;table_open_cache&#x2F;thread_cache_size&#x2F;innodb_lock_wait_timeout等）、连接池软件选择应用，对show *（show status&#x2F;show profile）类的操作语句有深入了解，能够完成大部分的性能问题追查；MySQL备份技术的深入熟悉，包括灾备还原、对Binlog的深入理解，冷热备份，多IDC备份等；在MySQL原理方面，有更多了解，比如对MySQL的工作机制开始阅读部分源码，比如对主从同步（复制）技术的源码学习，或者对某个存储引擎（MyISAM&#x2F;Innodb&#x2F;TokuDB）等等的源码学习理解，如果条件允许，可以参考CSV引擎开发自己简单的存储引擎来保存一些数据，增强对MySQL的理解；在这个过程，如果自己有兴趣，也可以考虑往DBA方向发展。MongoDB层面，可以考虑比如说在写少读多的情况开始在线上应用MongoDB，或者是做一些线上的数据分析处理的操作，具体场景可以按照工作来，不过核心是要更好的深入理解RMDBS和NoSQL的不同场景下面的应用，如果条件或者兴趣允许，可以开始深入学习一下MongoDB的工作机制。</li>
<li>Redis&#x2F;Memcached： 在第二阶段的基础上面，能够更深入的应用和学习。因为Memcached不是特别复杂，建议可以把源码进行阅读，特别是内存管理部分，方便深入理解；Redis部分，可以多做一些复杂的数据结构的应用（zset来做排行榜排序操作&#x2F;事务处理用来保证原子性在秒杀类场景应用之类的使用操作）；多涉及aof等同步机制的学习应用，设计一个高可用的Redis应用架构和集群；建议可以深入的学习一下Redis的源码，把在第二阶段积累的知识都可以应用上，特别可以阅读一下包括核心事件管理、内存管理、内部核心数据结构等充分学习了解一下。如果兴趣允许，可以成为一个Redis方面非常专业的使用者。</li>
<li>PHP： 作为基础核心技能，我们在第二阶段的基础上面，需要有更深入的学习和应用。从基本代码应用上面来说，能够解决在PHP开发中遇到95%的问题，了解大部分PHP的技巧；对大部分的PHP框架能够迅速在一天内上手使用，并且了解各个主流PHP框架的优缺点，能够迅速方便项目开发中做技术选型；在配置方面，除了常规第二阶段会的知识，会了解一些比较偏门的配置选项（php auto_prepend_file&#x2F;auto_append_file），包括扩展中的一些复杂高级配置和原理（比如memcached扩展配置中的memcache.hash_strategy、apc扩展配置中的apc.mmap_file_mask&#x2F;apc.slam_defense&#x2F;apc.file_update_protection之类的）；对php的工作机制比较了解，包括php-fpm工作机制（比如php-fpm在不同配置机器下面开启进程数量计算以及原理），对zend引擎有基本熟悉（vm&#x2F;gc&#x2F;stream处理），阅读过基本的PHP内核源码（或者阅读过相关文章），对PHP内部机制的大部分核心数据结构（基础类型&#x2F;Array&#x2F;Object）实现有了解，对于核心基础结构（zval&#x2F;hashtable&#x2F;gc）有深入学习了解；能够进行基本的PHP扩展开发，了解一些扩展开发的中高级知识（minit&#x2F;rinit等），熟悉php跟apache&#x2F;nginx不同的通信交互方式细节（mod_php&#x2F;fastcgi）；除了开发PHP扩展，可以考虑学习开发Zend扩展，从更底层去了解PHP。</li>
<li>C&#x2F;C++： 在第二阶段基础上面，能够在C&#x2F;C++语言方面有更深入的学习了解，能够完成中小型C&#x2F;C++系统的开发工作；除了基本第二阶段的基础C&#x2F;C++语法和数据结构，也能够学习一些特殊数据结构（b-tree&#x2F;rb-tree&#x2F;skiplist&#x2F;lsm-tree&#x2F;trie-tree等）方便在特殊工作中需求；在系统编程方面，熟悉多进程、多线程编程；多进程情况下面了解大部分多进程之间的通信方式，能够灵活选择通信方式（共享内存&#x2F;信号量&#x2F;管道等）；多线程编程能够良好的解决锁冲突问题，并且能够进行多线程程序的开发调试工作；同时对网络编程比较熟悉，了解多进程模型&#x2F;多线程模型&#x2F;异步网络IO模型的差别和选型，熟悉不同异步网络IO模型的原理和差异（select&#x2F;poll&#x2F;epoll&#x2F;iocp等），并且熟悉常见的异步框架（ACE&#x2F;ICE&#x2F;libev&#x2F;libevent&#x2F;libuv&#x2F;Boost.ASIO等）和使用，如果闲暇也可以看看一些国产自己开发的库（比如muduo）；同时能够设计好的高并发程序架构（leader-follow&#x2F;master-worker等）；了解大部分C&#x2F;C++后端Server开发中的问题（内存管理、日志打印、高并发、前后端通信协议、服务监控），知道各个后端服务RPC通信问题（struct&#x2F;http&#x2F;thirft&#x2F;protobuf等）；能够更熟络的使用GCC和GDB来开发编译调试程序，在线上程序core掉后能够迅速追查跟踪解决问题；通用模块开发方面，可以积累或者开发一些通用的工具或库（比如异步网络框架、日志库、内存池、线程池等），不过开发后是否应用要谨慎，省的埋坑去追bug；</li>
<li>前端： 深入了解HTTP协议（包括各个细致协议特殊协议代码和背后原因，比如302静态文件缓存了，502是nginx后面php挂了之类的）；除了之前的前端方面的各种框架应用整合能力，前端方面的学习如果有兴趣可以更深入，表现形式是，可以自己开发一些类似jQuery的前端框架，或者开发一个富文本编辑器之类的比较琐碎考验JavaScript功力；</li>
<li>其他领域语言学习： 在基础的PHP&#x2F;C&#x2F;C++语言方面有基本积累，建议在当前阶段可以尝试学习不同的编程语言，看个人兴趣爱好，脚本类语言可以学学 Python&#x2F;Ruby 之类的，函数式编程语言可以试试 Lisp&#x2F;Haskell&#x2F;Scala&#x2F;Erlang 之类的，静态语言可以试试 Java&#x2F;Golang，数据统计分析可以了解了解R语言，如果想换个视角做后端业务，可以试试 Node.js还有前面提到的跟Nginx结合的Nginx_Lua等。学习不同的语言主要是提升自己的视野和解决问题手段的差异，比如会了解除了进程&#x2F;线程，还有轻量级协程；比如在跨机器通信场景下面，Erlang的解决方案简单的惊人；比如在不想选择C&#x2F;C++的情况下，还有类似高效的Erlang&#x2F;Golang可用等等；主要是提升视野。</li>
<li>其他专业方向学习： 在本阶段里面，会除了基本的LNMP技能之外，会考虑一些其他领域知识的学习，这些都是可以的，看个人兴趣和长期的目标方向。目前情况能够选择的领域比较多，比如、云计算（分布式存储、分布式计算、虚拟机等），机器学习（数据挖掘、模式识别等，应用到统计、个性化推荐），自然语言处理（中文分词等），搜索引擎技术、图形图像、语音识别等等。除了这些高大上的，也有很多偏工程方面可以学习的地方，比如高性能系统、移动开发（Android&#x2F;IOS）、计算机安全、嵌入式系统、硬件等方向。</li>
<li>系统设计： 系统设计在第二阶段的基础之上，能够应用掌握的经验技能，设计出比较复杂的中大型系统，能够解决大部分线上的各种复杂系统的问题，完成类似 浏览器 -&gt; CDN -&gt; 负载均衡 -&gt;接入层 -&gt; Nginx+PHP -&gt; 业务缓存 -&gt; 数据库 -&gt; 各路复杂后端RPC交互（存储后端、逻辑后端、反作弊后端、外部服务） -&gt; 更多后端 酱紫的复杂业务；能够支撑每天数千万到数亿流量网站的正常开发维护工作。</li>
</ol>
<ul>
<li><strong>第四阶段：架构阶段 （架构师）</strong> ps: 暂时不展开讨论，等下次专门撰文来描述补充本部分内容</li>
<li><strong>第五阶段：专家阶段（方向领域专家）</strong> ps：高大上，这块不展开讨论 ^_^</li>
<li><strong>第六阶段：科学家阶段</strong> ps：高大上，这块不展开讨论 ^_^</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://blog.csdn.net/heiyeshuwu/article/details/40098043" title="作者博客">作者：黑夜路人</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/mysql-engine.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/mysql-engine" class="post-title-link post-title-link-external" itemprop="url">深入了解 Mysql 表引擎优化<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-08-26 16:07:45" itemprop="dateCreated datePublished" datetime="2014-08-26T16:07:45+08:00">2014-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-04-30 10:27:27" itemprop="dateModified" datetime="2024-04-30T10:27:27+08:00">2024-04-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">分享</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="MyISAM："><a href="#MyISAM：" class="headerlink" title="MyISAM："></a>MyISAM：</h1><h2 id="一、优化参数"><a href="#一、优化参数" class="headerlink" title="一、优化参数"></a>一、优化参数</h2><p>这个表引擎只存储索引的缓存，而不存储数据的缓存。可以通过设置KEY_BUFFER_SIZE设置缓存大小，通过KEY_BUFER_BLOCK_SIZE设置cache block的size。 KEY_CACHE_DIVISION_LIMIT是设置LRU链表中hot area和warm area的分界值，为1-100之间。系统默认为100，也就是只有warm chain。KEY_CACHE_DIVISION_LIMIT告诉mysql该如何将整个cachechain划分为hot area和warm area。 KEY_CACHE_AGE_GHRESHOLD，控制cacheblock从hotarea降级到warmarea的限制，系统默认为300，最小设置为100.值越小，被降级的可能性越大。</p>
<h3 id="多key-cache的使用"><a href="#多key-cache的使用" class="headerlink" title="多key cache的使用"></a>多key cache的使用</h3><p>msyql4.1.1开始，myisam支持多个key cache。可以根据不同的需求，设置多个keycache 了。如，将使用非常频繁但是更新操作很少的数据放入一个keycaceh中以防止在公共keycache中被清除出去。那些使用不是很频繁而且经常会更新 的数据放在另外一个keycache中。 mysql官方建议在比较繁忙的系统上使用三个keycache【key cache就是索引缓存】:</p>
<ul>
<li>hotcache：使用20%的大小，用来存放使用非常频繁而且更新少的表索引</li>
<li>coldcache：使用20%的大小，用来存放更新很频繁的表索引</li>
<li>warmcache：使用剩下的60%空间，作为整个系统的默认keycache。</li>
</ul>
<h2 id="二、预加载"><a href="#二、预加载" class="headerlink" title="二、预加载"></a>二、预加载</h2><p>在一个新系统刚上线的时候，系统会因为cache中没有任何数据而出现短时间的负载过高。可以使用预加载机制将指定表的所有索引都加载到内存中。</p>
<h2 id="三、null值对统计信息的影响"><a href="#三、null值对统计信息的影响" class="headerlink" title="三、null值对统计信息的影响"></a>三、null值对统计信息的影响</h2><p>myisam索引中会记录值为null的列信息，只不过null值的索引键占用的空间 非常少。所以，null会影响到mysql查询优化器对执行计划的选择。于是，mysql提供了MYISAM_STATS_METHOD参数让我们自行决 定对索引中的null值的处理方式。如果MYISAM_STATS_METHOD&#x3D;nulls_unequal，那么myisam在搜集统计信息的时候会认为每个null都是不同的，则给予该字段的索引就会更大，也就是说，myisam会认为distinct的值会更多。MYISAM_STATS_METHOD&#x3D;nulls_equal则相反。</p>
<h2 id="四、并发优化"><a href="#四、并发优化" class="headerlink" title="四、并发优化"></a>四、并发优化</h2><ul>
<li>打开concurrent_insert，如果concurrent_insert为1，则当表中没有删除记录留下的空余空间时候可以在尾部进行并行插入。concurrent_insert为2的时候，不管有没有因为删除而留下的空间，都会在尾部进行并行插入。</li>
<li>控制写入操作的大小以防止过长的时间拥塞。</li>
<li>通过牺牲读取性能来提高写入性能。将写入的优先级提高。</li>
</ul>
<h2 id="五、其他优化"><a href="#五、其他优化" class="headerlink" title="五、其他优化"></a>五、其他优化</h2><p>通过optimize命令整理myisam表的文件，是文件占用的空间连续。一般来说，每次做了较大的数据删除操作之后，都要做此命令。</p>
<h1 id="Innodb："><a href="#Innodb：" class="headerlink" title="Innodb："></a>Innodb：</h1><p>innodb和myisam最大区别有四点：</p>
<ul>
<li>缓存机制</li>
<li>事务支持</li>
<li>锁定实现</li>
<li>数据存储方式</li>
</ul>
<p>整体性能上的差异innodb和myisam会因为不同场景而表现出很大差异，正是因为这四点。</p>
<h2 id="第一、innodb缓存优化"><a href="#第一、innodb缓存优化" class="headerlink" title="第一、innodb缓存优化"></a>第一、innodb缓存优化</h2><p>innodb和myisam的最大区别就是innodb不仅仅缓存了索引，同时还缓存实际的数据。所以，完全相同的数据库，innodb可以使用更多的内存来缓存数据库相关信息。前提是有足够的内存。 innodb_buffer_pool_size设置了InnoDB存储引擎需求最大 的一块内存区域的大小，直接关系到InnoDB存储引擎的性能，所以如果我们有足够的内存，尽可将该参数设置到足够大，将尽可能多的InnoDB的索引及 数据都放入到该缓存区域中，直至全部。 我 们可以通过(Innodb_buffer_pool_read_requests – Innodb_buffer_pool_reads) &#x2F; Innodb_buffer_pool_read_requests * 100%计算缓存命中率，并根据命中率来调整innodb_buffer_pool_size参数大小进行优化。 innodb_log_buffer_size (global)　　这是InnoDB存储引擎的事务日志所使用的缓冲区。在mysql写入负载很高的情况下，可以增大这个参数来提高IO性能。</p>
<h2 id="第二、事务优化"><a href="#第二、事务优化" class="headerlink" title="第二、事务优化"></a>第二、事务优化</h2><p>innodb支持的事务隔离级别如下：</p>
<ul>
<li>read uncommited：常被称为脏读</li>
<li>read commited：在这一隔离级别下，不会出现dirty read。但是可能会出现non-repeatable read或者phantom read。</li>
<li>repeatable read：innodb的默认事务隔离级别。不会出现dirty read。也不会出现non-repeatable read，但是可能会出现phantom read。</li>
<li>serializable：serializable是标准事务隔离级别中的最高级。在事务中的任何时候看到的数据都是事务启动时候的状态。不论这期间是不是有其他事务已经修改了某些数据并提交。所以，在serializable下，phantom reads也不会出现。</li>
</ul>
<p>innodb在修改数据的时候，只是修改buffer pool中的数据。并不是在一个事物提交之后就将buffepool中的数据同步到磁盘上。这里要理解连续读写和随机读写。写入磁盘的 过程是需要磁头寻址的。连续读写是指将要写入的东西写入到一个连续地址空间。innodb不是每一次都将数据同步到磁盘，就是为了攒多数据之后，进行连续 读写来减少磁盘IO。 系统崩溃之后，innodb是如何利用事务日志进行数据恢复的呢？ 假设在某一时间，mysql crash了，那么，所有的bufferpool的数据都会丢失。包括已经修改了但是没来得及刷新到磁盘上的数据。在mysql从crash之后再次启 动，innodb会通过比较事务日志中的所有记录的checkpoint的信息和各个数据文件中的checkpoint信息，找到最后一次 checkpoint所对应的log sequence number。然后通过事务日志中的变更记录，将从崩溃之前最后一次checkpoint往后的所有变更重新应用一次。同步所有的数据文件到一致状态。当 然，对于logbuffer中未来得及同步到日志文件的变更数据，就再也无法找回了。总的来说，事务日志文件设置的越大，系认io性能越好，但是遇到 crash，那么恢复的时间也越长。 innodb_flush_log_at_trx_commit默认设置为1，表示每 次失误的结束都会触发log thread将logbuffer中的数据写入文件，并通知文件系统同步文件。这个设置是安全的，能够保证不论是mysql crash，还是os崩溃，还是主机断电，都不会丢失任何已经提交的数据。</p>
<h2 id="三、数据存储优化"><a href="#三、数据存储优化" class="headerlink" title="三、数据存储优化"></a>三、数据存储优化</h2><p>innodb的聚簇主键已经了解了。但是聚簇主键也是有不好的地方的，不然其他数据库厂商也大力推广了。聚簇的最大问题就是索引键被更新造成的成本，并不只是索引数据可能会移动，而是相关的所有记录数据都要移动。所以，为了性能考虑，尽量不要更新innodb的主键值。 innodb中的数据，不论是表 还是索引，或者是存储引擎的各种数据结构，都以page作为最小物理单位来存储。每个page大小默认16K。extent由多个连续的page组成的一 个物理存储单位。一般来说每个extent64个page。每个segment有一个或者多个extent组成。每个segment都存放同一种数据。一 般来说，每个表都会存放在一个单独的segment中。 page&gt;extent&gt;segment&gt;tablespace，后面的每一个都是由前面的一个或者多个组成。tablespace是innodb的最大结构单位。 在主键上的优化建议，</p>
<ul>
<li>为了减小secondary index的大小，主键字段所占用的存储空间越小越好。最好是integer。当然这并不绝对。</li>
<li>尽可能不要做主键的更新。</li>
<li>尽可能根据主键进行查询操作。</li>
</ul>
<h2 id="四、其他优化"><a href="#四、其他优化" class="headerlink" title="四、其他优化"></a>四、其他优化</h2><p>autocommit相信都了解，根据自己的实际情况设置autocommit。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://vsnote.me/centos-nginx-codeigniter-pathinfo.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="votan">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="码农笔记">
      <meta itemprop="description" content="用心记录，分享技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 码农笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/centos-nginx-codeigniter-pathinfo" class="post-title-link post-title-link-external" itemprop="url">centos nginx 配置 codeigniter pathinfo(伪静态)<i class="fa fa-external-link-alt"></i></a>
          
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-07-09 10:21:01" itemprop="dateCreated datePublished" datetime="2014-07-09T10:21:01+08:00">2014-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-05-09 16:23:45" itemprop="dateModified" datetime="2024-05-09T16:23:45+08:00">2024-05-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在 linux+nginx 环境下配置 codeigniter 使用 pathinfo 的 URL 方式，跟 windows 下的区别不大，但是要注意版本问题。 服务器环境：centos 6.3、nginx1.4.7、php5.2.17</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen  80;</span><br><span class="line">    server_name www.example.com;</span><br><span class="line">    rewrite_log on;</span><br><span class="line">    root /www/www.example.com;    </span><br><span class="line">    index index.php  index.html index.htm;        </span><br><span class="line">    location / &#123;</span><br><span class="line">        index index.php index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~ \.php($/) &#123;</span><br><span class="line">        fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">        fastcgi_index index.php;</span><br><span class="line">        fastcgi_split_path_info ^(.+\.php)(.*)$;</span><br><span class="line">        fastcgi_param PATH_INFO $fastcgi_path_info;</span><br><span class="line">        fastcgi_param SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">        include fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (!-e $request_filename) &#123;</span><br><span class="line">        rewrite ^/(.*)$ /index.php/$1 last;</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~ /\.ht &#123;</span><br><span class="line">        deny all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">votan</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
